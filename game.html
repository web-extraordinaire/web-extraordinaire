<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.js"></script> 
    <script src="functions.js"></script>
<script>
var is_ded = false;
var moveY = 390;



function ded() {

                      background(220);
            textSize(100)
text("you ded", 0,100)
           if(mouseIsPressed) {
             level = 1;
             is_ded = false;
             x = 10;
             y = 390;
           }
}
var enemy1_health = 2
var enemy_x1 = 450
var enemy_y1 = 390

var enemy_2x = 450
var enemy_2y = 350
var enemy2_health = 2
var health = 3;
  var moveXtop = 200
  var moveX = 200
var y = 390;
var x = 10;
var level = 8;
var moveX = 30;
var moveY = 390;
var shoot_enemy = false
if( shoot_enemy === true) {
  line(x+10,y+5,x+30,y+5)
}

function setup() {
  
  createCanvas(400, 400);
}

function draw() {

 
function heart(x) {
  
    fill(255, 0, 0);
arc(x,20,20,20,600,0);
arc(x+21,20,20,20,600,0);
line(x+10,45,x-10,18);
line(x+10,45,x+30,18);
}

  
  if(is_ded === true) {
    ded();
 return;
  }
      if ( mouseIsPressed  ) {
       x=x+3;
    }
    if (mouseX < x) {
      x=x-2;
    }
  if (keyCode === UP_ARROW) {
  y = 350;
  }
    if (keyCode === DOWN_ARROW) {
      y = 390;
      
    }
  
  background(220);
  textSize(15)
  /*
  text("enemy x: " + enemy_x +", enemy_y: " + enemy_y + ", health: " + health + ", x: " + x + ", y:" + y, 0, 150)
  */

    if(enemy_x1 > x && enemy_x1 < x + 10   && enemy_y1 === y && level > 8  )
    {    
  
      x=x-50 
      enemy_x1 = enemy_x1 + 50
      health = health - 1
      
    }
if(enemy_2x>x && enemy_2x < x + 10 && y === enemy_2y ) 
{
        x=x-50 
      enemy_2x = enemy_2x + 50
      health = health - 1
}
  
  if(enemy_x1 === x + 30 && enemy_y1 === y) {
    enemy1_health = enemy1_health - 1
  }
 
  if(enemy_2x === x + 30 && y === enemy_2y && level > 8) {
    enemy2_health = enemy2_health - 1
  }
  if(enemy2_health === 0) {
    enemy_2x = 1397327487284
  }
  if(health===2) {
    line(0,0,40,40)

  }
  if(enemy1_health === 0) {
    enemy_x1 =346578346
  }
  if(health === 1) {
        line(0,0,40,40)

    line(40,0,80,40)
  }
  if(health === 0) {
    ded()
    level = 1;
        health = 3

  }
if( shoot_enemy === true) {
  line(x+10,y+5,x+30,y+5)
}
  if(level === 0) {
      textSize(100)
   text("play",100,200) 

  rect(x,390,10,10);
    if (mouseX < 300 & mouseX > 100 & mouseY <200 & mouseY > 100 & mouseIsPressed ) {
      level = level + 1;
    }
  }
    if(level === 1) {
          // contrals

            
    rect(x,390,10,10);
      if (x>400) {
      x = 10;
        level = level + 1
      }
  }  
  
  if(level === 2) {

            rect(x,y,10,10)
   line (0,340,400,340);
     line(200,400,210,380)
         line(220,400,210,380)
if(x<220 & x > 200 & y > 380) {
  is_ded = true;
  return;
}
  if( x > 400) {
    level = level + 1;
    x = 10
  }


  }
    
  if(level === 3) {
    line (0,340,400,340);
            
            rect(x,y,10,10);
        line(80,340,110,360)
        line(130,340,110,360)
            
        line(200,400,210,380)
        line(220,400,210,380)
    if (x < 130 & x > 80 & y<360 || x>200 & x<210 & y > 380) {
      is_ded = true
      return;
    }
    if(x > 400) {
      level = level + 1;
      x = 10;
    }
  }  

  if(level === 4) {
    moveX=moveX + 2;
            moveXtop=moveXtop + 2;
     rect(x,y,10,10)
            line (0,340,400,340);
    line(moveX,400,moveX+10,380)
           line(moveX + 20,400,moveX+10,380)
            
            line(moveXtop + 100,350,moveXtop+110,360)
           line(moveXtop + 120,350,moveXtop+110,360)
                if(moveX > 392) {
              moveX= 100;
            }
              if(moveXtop > 272) {
              moveXtop= 100;
            }
    if(moveX > 390 & x> 100 & y > 380 || moveXtop > 270 & x > 100 & y < 360 ) {
is_ded = true;
    return;
    }
    if (x > moveX & x < (moveX + 20) & y > 380 || x > (moveXtop + 100) & x < (moveXtop + 120) & y < 360 ) {
      is_ded = true;
    return;
    
    }
  if(x > 400) {
    level = level + 1
    x = 10
  }
  }  
  
  if(level === 5) {
    moveY = moveY + 2
       if (moveY > 400) {
                  moveY = 330
                }
   if (x>200 & x < 220 & y > (moveY - 10) & y < (moveY + 10) ) {
     is_ded = true;
     return;
   }
    line (0,340,400,340);
                rect(x,y,10,10)
                line(200,moveY,220,moveY+10)
                line(200,moveY,220,moveY-10)
    if(x > 400) {
      x = 10;
      level = level + 1
    }
  }  
  if(level === 6) {
    moveX = moveX + 2
    moveXtop = moveXtop + 3;
                         if(moveX > 380 ) {
      moveX = 100;
    }
                    if(moveXtop > 380 ) {
                      moveXtop = 100;
                    }
    if(y<360 & x <moveXtop + 20 & x > moveXtop || y > 380 & x > moveX - 10 & x < moveX + 20) {
      is_ded = true;
      return;
    }
           if (moveX > 370 & x > 100 & y > 380 || moveXtop > 370 & x > 100 & y < 360) {
             is_ded = true;
             return;
           }
          line(moveX,400,moveX+10,380)
      line(moveX + 20,400,moveX+10,380)
                    line(moveXtop,340,moveXtop+10,350)
      line(moveXtop + 20,340,moveXtop+10,350)
      
      line (0,340,400,340);        
      rect(x,y,10,10)
    if(x > 400) {
      x = 10;
      level = level + 1;
    }
  }  
  if(level === 7) {
    if(y<360 & x <moveXtop + 20 & x > moveXtop || y > 380 & x > moveX - 10 & x < moveX + 20) {
      is_ded = true; 
      return;
    }
                            moveXtop = moveXtop + 3;
                    moveX=moveX+2;
    moveY = moveY + 2
      if(moveX > 380 ) {
      moveX = 100;
    }
                        if(moveY > 400 ) {
      moveY = 330;
    }
                    if(moveXtop > 380 ) {
                      moveXtop = 100;
                    }
if (x>200 & x < 220 & y > (moveY - 10) & y < (moveY + 10) ) {
      is_ded = true
  return;
    }
           if (moveX > 370 & x > 100 & y > 380 || moveXtop > 370 & x > 100 & y < 360) {
             is_ded = true;
             return;
           }
                            line(200,moveY,220,moveY+10)
                line(200,moveY,220,moveY-10)
            rect(x,y,10,10)
            line (0,340,400,340);
                              line(moveX,400,moveX+10,380)
      line(moveX + 20,400,moveX+10,380)
                    line(moveXtop,340,moveXtop+10,350)
      line(moveXtop + 20,340,moveXtop+10,350)
    if (x> 400) {
      x = 10
      level = level + 1
    }
  }
  
  if(level === 8) {
    heart(10);
heart(50);
heart(90);
    rect(x,y,10,10)
    shoot_enemy =true;
    textSize(32)
    text("you got the sword of power",0,100)
    if(x > 400) {
      level = level + 1;
      x = 10;
    }
  }
  
  if(level === 9) {
    
    enemy_x1 = enemy_x1 - 1
    enemy_2x = enemy_2x - 1    
       rect(enemy_x1,enemy_y1,10,10)
    rect(enemy_2x,enemy_2y,10,10)

    rect(x,y,10,10)
    heart(10);
heart(50);
heart(90);
  }

}

</script>
  </head>
</html>
